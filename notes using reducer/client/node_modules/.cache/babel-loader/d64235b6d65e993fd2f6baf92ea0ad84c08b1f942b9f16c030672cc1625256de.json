{"ast":null,"code":"import axios from \"axios\";\nexport const loadNotes = async dispatch => {\n  console.log(\"USING hi\");\n  let token = localStorage.getItem(\"token\");\n  console.log(token);\n  if (!token) {\n    dispatch(null);\n    return;\n  }\n  let res = await axios.get(\"http://localhost:3345/note\", {\n    headers: {\n      Authorization: `bearer ${token}`\n    }\n  });\n  console.log(res.data);\n  dispatch({\n    type: \"SET_NOTES\",\n    notes: res.data\n  });\n};\nexport const deleteNote = async (id, dispatch) => {\n  //////\n  let token = localStorage.getItem('token');\n  if (!token) {\n    return;\n  }\n  try {\n    await axios.delete(`http://localhost:3345/note/delete/${id}`, {\n      headers: {\n        Authorization: `bearer ${token}`\n      }\n    });\n    dispatch({\n      type: \"DELETE_NOTE\",\n      id\n    });\n    // loadNotes();\n    // setSelectedNote(null);\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"names":["axios","loadNotes","dispatch","console","log","token","localStorage","getItem","res","get","headers","Authorization","data","type","notes","deleteNote","id","delete","err"],"sources":["D:/React/notes using reducer/client/src/fns.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const loadNotes = async (dispatch) => {\r\n    console.log(\"USING hi\");\r\n\r\n    let token = localStorage.getItem(\"token\");\r\n    console.log(token);\r\n    if (!token) {\r\n        dispatch(null)\r\n        return;\r\n    }\r\n    let res = await axios.get(\"http://localhost:3345/note\", {\r\n        headers: {\r\n            Authorization: `bearer ${token}`\r\n        }\r\n    })\r\n    console.log(res.data);\r\n\r\n    dispatch({ type: \"SET_NOTES\", notes: res.data });\r\n}\r\n\r\nexport const deleteNote = async (id, dispatch) => {\r\n    //////\r\n    let token = localStorage.getItem('token');\r\n    if (!token) {\r\n        return;\r\n    }\r\n    try {\r\n        await axios.delete(`http://localhost:3345/note/delete/${id}`, {\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n        });\r\n        dispatch({ type: \"DELETE_NOTE\", id });\r\n        // loadNotes();\r\n        // setSelectedNote(null);\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,SAAS,GAAG,MAAOC,QAAQ,IAAK;EACzCC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;EAEvB,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzCJ,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;EAClB,IAAI,CAACA,KAAK,EAAE;IACRH,QAAQ,CAAC,IAAI,CAAC;IACd;EACJ;EACA,IAAIM,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,4BAA4B,EAAE;IACpDC,OAAO,EAAE;MACLC,aAAa,EAAG,UAASN,KAAM;IACnC;EACJ,CAAC,CAAC;EACFF,OAAO,CAACC,GAAG,CAACI,GAAG,CAACI,IAAI,CAAC;EAErBV,QAAQ,CAAC;IAAEW,IAAI,EAAE,WAAW;IAAEC,KAAK,EAAEN,GAAG,CAACI;EAAK,CAAC,CAAC;AACpD,CAAC;AAED,OAAO,MAAMG,UAAU,GAAG,MAAAA,CAAOC,EAAE,EAAEd,QAAQ,KAAK;EAC9C;EACA,IAAIG,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzC,IAAI,CAACF,KAAK,EAAE;IACR;EACJ;EACA,IAAI;IACA,MAAML,KAAK,CAACiB,MAAM,CAAE,qCAAoCD,EAAG,EAAC,EAAE;MAC1DN,OAAO,EAAE;QACLC,aAAa,EAAG,UAASN,KAAM;MACnC;IACJ,CAAC,CAAC;IACFH,QAAQ,CAAC;MAAEW,IAAI,EAAE,aAAa;MAAEG;IAAG,CAAC,CAAC;IACrC;IACA;EACJ,CAAC,CAAC,OAAOE,GAAG,EAAE;IACVf,OAAO,CAACC,GAAG,CAACc,GAAG,CAAC;EACpB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}